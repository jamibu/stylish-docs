# Stylish docs <!-- omit in toc -->

Stylish docs is a simple command line app for converting Markdown files to HTML with styling that mirrors Github's READMEs (such as this one). By default, the app calls [Github's markdown api](https://docs.github.com/en/rest/markdown) which is then added to a simple template to apply the styling. The HTML version of this README that is in this repo was made using this application.

The styling of the HTML document should be automatically set to dark or light mode based on your browser's preferences.

## Table of Contents <!-- omit in toc -->

- [Running from the to_convert folder](#running-from-the-to_convert-folder)
- [Running manually](#running-manually)
- [Table of contents links](#table-of-contents-links)
- [HTML templates](#html-templates)
- [The API](#the-api)
- [A note on images](#a-note-on-images)

## Running from the to_convert folder

You can automatically convert one or more Markdown files by placing then in the "to_convert" folder and running from the .bat file. The converted files will be written to the "to_convert" folder under the same name as the original file.

```
./run.bat
```

## Running manually

The scripts can also be directly called on any given markdown file as follows

```
python ./src/markdown_to_html.py README.md
```

The following options are also available when running the scipt:

- `--template`: Path to a Jinja HTML template file that will define the HTML that wraps around the converted markdown
- `--markdown_api`: URL for API method used to convert markdown to HTML
- `--title`: Title that will be displayed in the browser tab

Below is an example of the python script being run directly with all optional inputs set manually. The values used in this example are the default values. You can change any of these as you wish.

```
python ./src/markdown_to_html.py README.md ^
--template template.html ^
--markdown_api http://localhost:8888/to_styled_html ^
--title README
```

When running in this manner the output HTML file will be written to the same directory as the markdown file.

## Table of contents links

The app will automatically add id's to headings based on the heading itself. These ID's are all lower case with hyphens separating words. Fullstops and commas are removed.

e.g.
This is a heading -> this-is-a-heading

This allows you to have links in your Table of Contents that will take you to the associated heading. e.g.

```markdown
## Table of Contents

- [A Heading](#a-heading)
- [Another Heading](#another-heading)
```

This format for the ids is based on the id's that are automatically generated by the VS Code plugin [Markdown All in One](https://marketplace.visualstudio.com/items?itemName=yzhang.markdown-all-in-one). Because of this, the links in the Table of Contents produced by the Markdown all in One plugin will automatically work in the HTML docs produced by this app with no edits required to the markdown. Note: There are likely some edge cases where the ids differ but the majority of headings should work.

## HTML templates

This app lays out the HTML files based on [Jinja Templates](https://jinja.palletsprojects.com/en/3.0.x/). Note that this only defines the HTML around the converted markdown which is added as one big blob. Below we can see the default template which is a very simple example of such a template. The commandline arguments for this support providing custom templates.

```html
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>{{ title }}</title>
<link
  rel="stylesheet"
  href="https://cdnjs.cloudflare.com/ajax/libs/github-markdown-css/5.1.0/github-markdown.css"
  integrity="sha512-Av8h36R+zgh5kcdZXursq5ZiKVOEQ/K/M4lZcFsbPJMKfrRaUXatxZERx2s6LzAfVUcWg90Yycl4Gsfdgfd29A=="
  crossorigin="anonymous"
  referrerpolicy="no-referrer"
/>
<style>
  .markdown-body {
    box-sizing: border-box;
    min-width: 200px;
    max-width: 980px;
    margin: 0 auto;
    padding: 45px;
  }

  @media (max-width: 767px) {
    .markdown-body {
      padding: 15px;
    }
  }
</style>

<body class="markdown-body">
  {{ markdown }}
</body>
```

All this does is add our markdown in the body of the file, set some styling to make the HTML the same as Github docs, and set the title.

## The API

The command line does allow you to set a different URL for the API that is used to compile the markdown, however, this requires the input and output format to be the same as the Github API. This main intention of this is to support different version of the API or allow users to write their own API.

## A note on images

If you add images (or other static files) in your Markdown file using relative paths you will need to be careful to maintain the relative location of the file to the HTML file (e.g. by having the HTML file in the same folder as the Markdown file)
